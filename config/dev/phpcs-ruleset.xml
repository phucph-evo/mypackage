<?xml version="1.0"?>
<ruleset name="PSR2-Luche">
    <arg name="encoding" value="UTF-8" />
    <exclude-pattern>tests/config/**</exclude-pattern>
    <rule ref="PSR2">
        <!-- Temporary suppress globally because these errors occur too much. -->
        <exclude name="PSR2.Methods.MethodDeclaration.Underscore" />
        <exclude name="PSR2.Classes.PropertyDeclaration.Underscore" />
    </rule>
    <!-- suppress warnings -->
    <rule ref="PSR1.Methods.CamelCapsMethodName.NotCamelCaps">
        <!-- メソッドを定数のように扱っている箇所 -->
        <exclude-pattern>src/Giftmall/Entity/Order/Status.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/ProductSearcher/SearchForm.php</exclude-pattern>
        <!-- フォント名をそのままメソッド名にしている。一旦据え置き -->
        <exclude-pattern>src/Giftmall/Util/Image/Font.php</exclude-pattern>
    </rule>
    <rule ref="Squiz.Classes.ValidClassName.NotCamelCaps">
        <exclude-pattern>data/class/*</exclude-pattern>
    </rule>
    <rule ref="PSR1.Files.SideEffects.FoundWithSymbols">
        <!-- set_ini and require_once -->
        <exclude-pattern>src/Giftmall/Batch/Order/CancelUncapturedAuthorization.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Batch/Tmp/FeaturedPage/CopyToChildFeaturedPages.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Batch/Tmp/FeaturedPage/InactivateNoProductPages.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/LcAdminBase.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/Edit.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/Index.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/SetFeatures.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Debug/RenderTemplate/FormComplete.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/FeaturedPage/TagMode.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Index.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/LcFrontBase.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Product/Detail.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Tag/Index.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/EntityConstant/Customer.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/EntityConstant/Tag.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/EntityManager/Tag.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/PDFGenerator/Base.php</exclude-pattern>
        <exclude-pattern>src/LegacyDb/ConnectorType.php</exclude-pattern>
        <exclude-pattern>html/nextengine/UpdateStock.php</exclude-pattern>
        <exclude-pattern>data/install.php</exclude-pattern>
        <exclude-pattern>data/namespaced_class_bootstrap.php</exclude-pattern>
        <exclude-pattern>data/class/pages/LC_Page_FrontBase.php</exclude-pattern>
        <exclude-pattern>data/env/*.php</exclude-pattern>
        <exclude-pattern>data/batch_require.php</exclude-pattern>
        <exclude-pattern>data/require_base.php</exclude-pattern>
        <exclude-pattern>html/require.php</exclude-pattern>
        <exclude-pattern>data/batch_require.php</exclude-pattern>
        <!-- for tests -->
        <exclude-pattern>tests/bootstrap.circle.php</exclude-pattern>
        <exclude-pattern>tests/bootstrap.common.php</exclude-pattern>
        <exclude-pattern>tests/bootstrap.php</exclude-pattern>
        <exclude-pattern>tests/config/install.php</exclude-pattern>
        <exclude-pattern>html/core/protected/config/main.php</exclude-pattern>
    </rule>
    <rule ref="PSR1.Classes.ClassDeclaration">
        <!-- Auto generated by codeception -->
        <exclude-pattern>tests/_helpers/CodeGuy.php</exclude-pattern>
    </rule>
    <rule ref="PSR1.Classes.ClassDeclaration.MultipleClasses">
        <!-- 単体テストの名前空間を整理するまではコンパニオンクラスをuseできないため -->
        <exclude-pattern>tests/old_codecept_unit/Test/Util/ObjectUtilTest.php</exclude-pattern>
    </rule>
    <rule ref="PSR1.Classes.ClassDeclaration.MissingNamespace">
        <!-- Yii Modules. Should be deleted. -->
        <exclude-pattern>html/core/protected/*</exclude-pattern>
        <exclude-pattern>data/class/*</exclude-pattern>
    </rule>
    <!-- violated sources are too much... -->
    <rule ref="Generic.Files.LineLength.TooLong">
        <exclude-pattern>*/tests/*</exclude-pattern>
        <exclude-pattern>resources/db-migrations/*</exclude-pattern>
        <exclude-pattern>src/OP/Api/Client/MusePatch/Service/Provider/Factory/Typed.php</exclude-pattern>
        <exclude-pattern>src/LegacyDb/SQLConverterToMySQL.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Web/UserAgent.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/PurchaseTransaction/Payment/PaymentInterface.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/PurchaseTransaction/Payment/PayEasy.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/PurchaseTransaction/Payment/LocalPayment.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/PurchaseTransaction/Payment/DeferredPayment.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/ProductImporter/Rakuten/Csv/Option/Importer.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/ProductImporter/Rakuten/Csv/ItemRecord.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/Payment/Convenience/Update.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/Payment/Convenience/PurchaseTransactionResponse.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/Payment/Convenience/PurchaseTransaction.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/Image/GiftmallHtmlService.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/FeaturedPage/FeaturedPageManager.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/FeaturedPage/Csv/Record.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/Delivery.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Service/CoverLetter/TuhanSuruzou/Exporter.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/PointProgram/Service/TransactionRevoker/ForInvalidation.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/PointProgram/Service/CustomerAccount/PointOperation/IssueParameter.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/PointProgram/EntityManager/Customer/PointIssueDetail.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/LogUserActions.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbUrlRankingTags.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbUrlRankingProducts.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbUrlPages.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbUrlBlocposition.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbTags.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbTagUrls.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbTagUrlElements.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbTagTagR.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbTagShopR.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbTagProductR.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbProductOptions.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Crm/Console/Command/ReportDailyMetricsCommand/MailParamsBuilder.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Crm/Entity/OrderReport/SingleOrder.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Crm/MailMagazineType.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Crm/Service/OrderReportGenerator/SegmentCalculator.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/DataFactory/BpTag.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/DataFactory/LogUserAction.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/DataFactory/Order.ph</exclude-pattern>
        <exclude-pattern>src/Giftmall/DataFactory/PaymentMethod.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/DataFactory/Product/ExpressDeliverySetting.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/DataFactory/TemporaryOrder.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Entity/PaymentMethod/Type.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Entity/PaymentMethod.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Entity/Shop/Baseinfo.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Entity/Pickup/PickupType.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/EntityManager/PaymentMethodManager.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/ExternalService/AtobaraiComAPI/Method.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/ExternalService/GoogleAnalytics/PageViewManager.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/ExternalService/Veritrans/Order/Searcher/Result/OrderInfo.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/ExternalService/Veritrans/Order/Searcher/Result.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/ExternalService/WillMail/CustomerDb/Batch/SynchronizeWithGiftmallCustomer/NewCustomerRegistrar.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/ExternalService/WillMail/ProductListComponent/ProductFinder.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Http/Session.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbAuthorityMember.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbAuthorityRole.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbCategory.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbClass.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbClasscategory.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbContactComment.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbCouponcode.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbCustomerInvitationMailRelation.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbDeliv.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbDelivzip.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbMailHistory.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbMobileBloc.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbMobileExtSessionId.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbNews.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbPayment.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbProductCategories.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbRecommendProducts.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbReview.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbShipmentItem.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbTargetFigure.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbTargetFigureDaily.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbTemplates.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/DtbUserRegist.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbBpTag.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbBpTagProductR.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbBpTagTagR.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Orm/Entity/GtbProductExtraInfos.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Analytics/Service/OrderProfileCalculator.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Console/Command/Temp/ProductImageTransferCommand.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Basis/DeliveryInput.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Basis/Index.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Customer/Edit.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Home.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Order/DelivNo.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Order/Edit.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Order/IndexHelper/GeneralOrderFilterBuilder.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/Edit.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/Index.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/Option.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/ProductClass.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/Review.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Admin/Product/ReviewEdit.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Debug/AtobaraiDebugger.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Debug/RenderTemplate/FormComplete.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Entry/Index.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Index.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Mypage/Change.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Mypage/LoginCheck.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Product/Detail.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/ReceiveVeritransNotification/Handler/PayeasyDonePaymentHandler.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Shopping/CheckoutConfirm.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Front/Tag/TagHelper.php</exclude-pattern>
        <exclude-pattern>src/Giftmall/Controller/Widget/Admin/GlobalMessage.php</exclude-pattern>
        <exclude-pattern>html/core/protected/config/main.php</exclude-pattern>
        <exclude-pattern>html/core/protected/models/Customer.php</exclude-pattern>
    </rule>
</ruleset>
